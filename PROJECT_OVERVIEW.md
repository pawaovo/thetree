# æ™ºèƒ½é€‰ç§‘ç³»ç»Ÿ - é¡¹ç›®è¯¦ç»†æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
- [ä¸šåŠ¡èƒŒæ™¯](#ä¸šåŠ¡èƒŒæ™¯)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [ä¸šåŠ¡æµç¨‹](#ä¸šåŠ¡æµç¨‹)
- [åŠŸèƒ½æ¨¡å—è¯¦è§£](#åŠŸèƒ½æ¨¡å—è¯¦è§£)
- [æŠ€æœ¯å®ç°](#æŠ€æœ¯å®ç°)
- [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
- [AI åˆ†æé€»è¾‘](#ai-åˆ†æé€»è¾‘)

---

## ç³»ç»Ÿæ¦‚è¿°

### é¡¹ç›®å®šä½

æ™ºèƒ½é€‰ç§‘ç³»ç»Ÿï¼ˆThe Tree - Smart Subject Selectionï¼‰æ˜¯ä¸€ä¸ªé¢å‘**é«˜ä¸­ç”Ÿ**çš„ç§‘å­¦é€‰ç§‘å†³ç­–æ”¯æŒå¹³å°ã€‚åœ¨æ–°é«˜è€ƒæ”¹é©èƒŒæ™¯ä¸‹ï¼Œå­¦ç”Ÿéœ€è¦ä»ç‰©ç†ã€åŒ–å­¦ã€ç”Ÿç‰©ã€å†å²ã€åœ°ç†ã€æ”¿æ²»ç­‰ç§‘ç›®ä¸­é€‰æ‹© 3 é—¨ä½œä¸ºé«˜è€ƒç§‘ç›®ï¼Œè¿™ä¸ªå†³ç­–å°†ç›´æ¥å½±å“æœªæ¥çš„ä¸“ä¸šé€‰æ‹©å’ŒèŒä¸šå‘å±•ã€‚

### æ ¸å¿ƒç›®æ ‡

- **ç§‘å­¦å†³ç­–**ï¼šåŸºäºå¤šç»´åº¦æ•°æ®ï¼ˆæˆç»©ã€å…´è¶£ã€èŒä¸šå€¾å‘ï¼‰æä¾›ç§‘å­¦çš„é€‰ç§‘å»ºè®®
- **ä¸ªæ€§åŒ–æ¨è**ï¼šåˆ©ç”¨ AI æŠ€æœ¯ä¸ºæ¯ä¸ªå­¦ç”Ÿç”Ÿæˆä¸ªæ€§åŒ–çš„é€‰ç§‘æ–¹æ¡ˆ
- **èŒä¸šè§„åˆ’**ï¼šå°†é€‰ç§‘å†³ç­–ä¸æœªæ¥ä¸“ä¸šã€èŒä¸šå‘å±•è·¯å¾„ç›¸ç»“åˆ
- **å¯è§†åŒ–å‘ˆç°**ï¼šé€šè¿‡å›¾è¡¨å’ŒæŠ¥å‘Šç›´è§‚å±•ç¤ºåˆ†æç»“æœ

### ç³»ç»Ÿç‰¹ç‚¹

1. **å¤šç»´åº¦è¯„ä¼°**ï¼šæ•´åˆæˆç»©æ•°æ®ã€å…´è¶£çˆ±å¥½ã€èŒä¸šå€¾å‘æµ‹è¯•
2. **AI é©±åŠ¨**ï¼šåˆ©ç”¨ Google Gemini AI è¿›è¡Œæ·±åº¦åˆ†æ
3. **ç§‘å­¦æµ‹è¯„**ï¼šé‡‡ç”¨å›½é™…é€šç”¨çš„ Holland èŒä¸šå…´è¶£æµ‹è¯•ï¼ˆRIASEC æ¨¡å‹ï¼‰
4. **ç”¨æˆ·å‹å¥½**ï¼šæµç•…çš„åˆ†æ­¥å¼•å¯¼æµç¨‹ï¼Œç²¾ç¾çš„å¯è§†åŒ–æŠ¥å‘Š

---

## ä¸šåŠ¡èƒŒæ™¯

### æ–°é«˜è€ƒæ”¹é©

ä¸­å›½æ–°é«˜è€ƒæ”¹é©å®è¡Œ"3+3"æˆ–"3+1+2"æ¨¡å¼ï¼š
- **3**ï¼šè¯­æ–‡ã€æ•°å­¦ã€è‹±è¯­ï¼ˆå¿…è€ƒï¼‰
- **3**ï¼šä»ç‰©ç†ã€åŒ–å­¦ã€ç”Ÿç‰©ã€å†å²ã€åœ°ç†ã€æ”¿æ²»ä¸­é€‰æ‹© 3 é—¨
- æˆ– **1+2**ï¼šä»ç‰©ç†/å†å²ä¸­é€‰ 1 é—¨ï¼Œä»å‰©ä½™ 4 é—¨ä¸­é€‰ 2 é—¨

### é€‰ç§‘å›°å¢ƒ

å­¦ç”Ÿåœ¨é€‰ç§‘æ—¶é¢ä¸´çš„ä¸»è¦é—®é¢˜ï¼š
1. **ä¿¡æ¯ä¸å¯¹ç§°**ï¼šä¸äº†è§£å„ç§‘ç›®å¯¹åº”çš„ä¸“ä¸šå’ŒèŒä¸šæ–¹å‘
2. **å†³ç­–ç›²ç›®**ï¼šä»…å‡­å…´è¶£æˆ–æˆç»©å•ä¸€ç»´åº¦åšå†³ç­–
3. **ç¼ºä¹æŒ‡å¯¼**ï¼šå­¦æ ¡å’Œå®¶é•¿éš¾ä»¥æä¾›ä¸“ä¸šçš„èŒä¸šè§„åˆ’å»ºè®®
4. **åæœä¸¥é‡**ï¼šé€‰ç§‘å¤±è¯¯å¯èƒ½å¯¼è‡´ä¸“ä¸šå—é™ã€èŒä¸šå‘å±•å—é˜»

### è§£å†³æ–¹æ¡ˆ

æœ¬ç³»ç»Ÿé€šè¿‡ä»¥ä¸‹æ–¹å¼è§£å†³ä¸Šè¿°é—®é¢˜ï¼š
- **æ•°æ®æ•´åˆ**ï¼šç»¼åˆè€ƒè™‘æˆç»©ã€å…´è¶£ã€èŒä¸šå€¾å‘
- **AI åˆ†æ**ï¼šåˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹è¿›è¡Œæ·±åº¦åˆ†æå’Œæ¨ç†
- **ç§‘å­¦æµ‹è¯„**ï¼šå¼•å…¥ Holland èŒä¸šå…´è¶£æµ‹è¯•
- **å¯è§†åŒ–æŠ¥å‘Š**ï¼šç”Ÿæˆè¯¦ç»†çš„åˆ†ææŠ¥å‘Šå’ŒèŒä¸šè·¯å¾„å›¾

---

## ç³»ç»Ÿæ¶æ„

### æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç”¨æˆ·ç•Œé¢å±‚ (UI)                      â”‚
â”‚         React 19 + TypeScript + Tailwind CSS            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç»„ä»¶å±‚ (Components)                   â”‚
â”‚  StepIntro â”‚ StepGrades â”‚ StepInterests â”‚ StepHolland  â”‚
â”‚              LoadingAnalysis â”‚ Report                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ä¸šåŠ¡é€»è¾‘å±‚ (Services)                  â”‚
â”‚              geminiService.ts (AI æ¥å£)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å¤–éƒ¨æœåŠ¡ (External)                    â”‚
â”‚              Google Gemini AI API                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åº”ç”¨æ¶æ„

```
App.tsx (ä¸»æ§åˆ¶å™¨)
â”œâ”€â”€ çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ step: å½“å‰æ­¥éª¤
â”‚   â”œâ”€â”€ userData: ç”¨æˆ·æ•°æ®
â”‚   â””â”€â”€ aiResult: AI åˆ†æç»“æœ
â”œâ”€â”€ æµç¨‹æ§åˆ¶
â”‚   â”œâ”€â”€ handleNext(): ä¸‹ä¸€æ­¥
â”‚   â”œâ”€â”€ handleBack(): è¿”å›
â”‚   â”œâ”€â”€ handleFinalSubmit(): æäº¤åˆ†æ
â”‚   â””â”€â”€ handleRestart(): é‡æ–°å¼€å§‹
â””â”€â”€ ç»„ä»¶æ¸²æŸ“
    â””â”€â”€ renderStep(): æ ¹æ®æ­¥éª¤æ¸²æŸ“å¯¹åº”ç»„ä»¶
```

---

## ä¸šåŠ¡æµç¨‹

### ä¸»æµç¨‹å›¾

```mermaid
graph TD
    A[å¼€å§‹ - å¼•å¯¼é¡µ] --> B[åŸºæœ¬ä¿¡æ¯å½•å…¥]
    B --> C[æˆç»©æ•°æ®å½•å…¥]
    C --> D[å…´è¶£çˆ±å¥½å½•å…¥]
    D --> E[Holland èŒä¸šæµ‹è¯•]
    E --> F[æäº¤æ•°æ®]
    F --> G[AI åˆ†æä¸­]
    G --> H{åˆ†ææˆåŠŸ?}
    H -->|æ˜¯| I[ç”Ÿæˆåˆ†ææŠ¥å‘Š]
    H -->|å¦| J[æ˜¾ç¤ºé”™è¯¯]
    J --> E
    I --> K[æŸ¥çœ‹æŠ¥å‘Š]
    K --> L{ç”¨æˆ·æ“ä½œ}
    L -->|å¯¼å‡º PDF| M[ä¸‹è½½æŠ¥å‘Š]
    L -->|é‡æ–°æµ‹è¯•| A
    L -->|æŸ¥çœ‹ç»Ÿè®¡| N[ç®¡ç†å‘˜é¢æ¿]
    N --> A
```

### è¯¦ç»†æµç¨‹è¯´æ˜

#### 1. å¼•å¯¼é¡µ (StepIntro)
- **è¾“å…¥**ï¼šå§“åã€æ€§åˆ«
- **éªŒè¯**ï¼šå§“åä¸èƒ½ä¸ºç©º
- **è¾“å‡º**ï¼šåŸºæœ¬ç”¨æˆ·ä¿¡æ¯
- **ç‰¹æ®ŠåŠŸèƒ½**ï¼šéšè—çš„ç®¡ç†å‘˜å…¥å£ï¼ˆç‚¹å‡»æ ‡é¢˜ 5 æ¬¡ï¼‰

#### 2. æˆç»©å½•å…¥ (StepGrades)
- **è¾“å…¥**ï¼š
  - è€ƒè¯•åç§°ï¼ˆå¦‚"é«˜ä¸€æœŸä¸­è€ƒè¯•"ï¼‰
  - å„ç§‘æˆç»©ï¼ˆè¯­æ–‡ã€æ•°å­¦ã€è‹±è¯­ã€ç‰©ç†ã€åŒ–å­¦ã€ç”Ÿç‰©ã€å†å²ã€åœ°ç†ã€æ”¿æ²»ï¼‰
  - æ€»åˆ†ã€æ’åã€æ€»äººæ•°
  - é€‰è€ƒç§‘ç›®ç­‰çº§ï¼ˆA/B/C/D/Eï¼‰
- **åŠŸèƒ½**ï¼š
  - æ”¯æŒæ·»åŠ å¤šæ¬¡è€ƒè¯•è®°å½•
  - è‡ªåŠ¨è®¡ç®—æ€»åˆ†
  - æˆç»©è¶‹åŠ¿å¯è§†åŒ–
  - ç¼–è¾‘/åˆ é™¤å·²æœ‰è®°å½•
- **éªŒè¯**ï¼šè‡³å°‘å½•å…¥ä¸€æ¬¡è€ƒè¯•æˆç»©

#### 3. å…´è¶£å½•å…¥ (StepInterests)
- **è¾“å…¥**ï¼š
  - æ„Ÿå…´è¶£çš„å­¦ç§‘ï¼ˆå¤šé€‰ï¼‰
  - æ„Ÿå…´è¶£çš„ä¸“ä¸šæ–¹å‘ï¼ˆæ–‡æœ¬ï¼‰
  - æ„Ÿå…´è¶£çš„èŒä¸šé¢†åŸŸï¼ˆæ–‡æœ¬ï¼‰
  - ç‰¹æ®Šæ‰èƒ½å’Œä¼˜åŠ¿ï¼ˆæ–‡æœ¬ï¼‰
- **éªŒè¯**ï¼šè‡³å°‘é€‰æ‹©ä¸€ä¸ªæ„Ÿå…´è¶£çš„å­¦ç§‘

#### 4. Holland æµ‹è¯• (StepHolland)
- **æµ‹è¯•å†…å®¹**ï¼š60 é“é¢˜ç›®ï¼Œæ¯é¢˜å¯¹åº” RIASEC å…­ä¸ªç»´åº¦ä¹‹ä¸€
  - **R (Realistic)**ï¼šå®é™…å‹ - å–œæ¬¢åŠ¨æ‰‹æ“ä½œ
  - **I (Investigative)**ï¼šç ”ç©¶å‹ - å–œæ¬¢æ¢ç´¢ç ”ç©¶
  - **A (Artistic)**ï¼šè‰ºæœ¯å‹ - å–œæ¬¢åˆ›ä½œè¡¨è¾¾
  - **S (Social)**ï¼šç¤¾ä¼šå‹ - å–œæ¬¢å¸®åŠ©ä»–äºº
  - **E (Enterprising)**ï¼šä¼ä¸šå‹ - å–œæ¬¢é¢†å¯¼ç®¡ç†
  - **C (Conventional)**ï¼šå¸¸è§„å‹ - å–œæ¬¢è§„èŒƒç§©åº
- **è¯„åˆ†**ï¼šæ¯é¢˜ 1 åˆ†ï¼Œç»Ÿè®¡å„ç»´åº¦å¾—åˆ†
- **ç»“æœ**ï¼šç”Ÿæˆ Holland ä»£ç ï¼ˆå¦‚"IRS"è¡¨ç¤ºç ”ç©¶å‹-å®é™…å‹-ç¤¾ä¼šå‹ï¼‰

#### 5. AI åˆ†æ (LoadingAnalysis)
- **æ•°æ®å‡†å¤‡**ï¼šæ•´åˆæ‰€æœ‰ç”¨æˆ·æ•°æ®
- **API è°ƒç”¨**ï¼šå‘é€åˆ° Gemini AI
- **åˆ†æç»´åº¦**ï¼š
  - æˆç»©ä¼˜åŠ¿åˆ†æ
  - å…´è¶£åŒ¹é…åº¦
  - èŒä¸šå€¾å‘é€‚é…
  - ä¸“ä¸šæ–¹å‘å»ºè®®
- **ç”Ÿæˆç»“æœ**ï¼š3 å¥—é€‰ç§‘æ–¹æ¡ˆï¼ˆé«˜ã€ä¸­ã€ä½åŒ¹é…åº¦ï¼‰

#### 6. æŠ¥å‘Šå±•ç¤º (Report)
- **å­¦ç”Ÿæ¦‚å†µ**ï¼šAI ç”Ÿæˆçš„ç»¼åˆè¯„ä»·
- **é€‰ç§‘æ–¹æ¡ˆ**ï¼š
  - æ–¹æ¡ˆ 1ï¼ˆæœ€æ¨èï¼‰ï¼šåŒ¹é…åº¦ 85-100
  - æ–¹æ¡ˆ 2ï¼ˆå¤‡é€‰ï¼‰ï¼šåŒ¹é…åº¦ 70-84
  - æ–¹æ¡ˆ 3ï¼ˆå¯è€ƒè™‘ï¼‰ï¼šåŒ¹é…åº¦ 60-69
- **æ¯ä¸ªæ–¹æ¡ˆåŒ…å«**ï¼š
  - æ¨èç§‘ç›®ç»„åˆ
  - åŒ¹é…åº¦è¯„åˆ†
  - æ¨èç†ç”±
  - å¯¹åº”ä¸“ä¸šï¼ˆé«˜æ¦‚ç‡ + ä¸­æ¦‚ç‡ï¼‰
  - èŒä¸šè·¯å¾„ï¼ˆé«˜ç›¸å…³ + æ½œåœ¨æ–¹å‘ï¼‰
- **å¯è§†åŒ–**ï¼š
  - æˆç»©è¶‹åŠ¿æŠ˜çº¿å›¾
  - Holland æµ‹è¯•é›·è¾¾å›¾
  - æ–¹æ¡ˆå¯¹æ¯”è¡¨
- **æ“ä½œ**ï¼š
  - å¯¼å‡º PDF
  - é‡æ–°æµ‹è¯•

#### 7. ç®¡ç†å‘˜é¢æ¿ (AdminDashboard)
- **ç»Ÿè®¡æ•°æ®**ï¼š
  - æ€»ç”¨æˆ·æ•°
  - å„ç§‘ç›®é€‰æ‹©é¢‘ç‡
  - Holland ç±»å‹åˆ†å¸ƒ
  - æ€§åˆ«åˆ†å¸ƒ
- **å¯è§†åŒ–**ï¼š
  - ç§‘ç›®é€‰æ‹©æŸ±çŠ¶å›¾
  - Holland ç±»å‹é¥¼å›¾
  - è¶‹åŠ¿åˆ†æ

---

## åŠŸèƒ½æ¨¡å—è¯¦è§£

### 1. æ•°æ®é‡‡é›†æ¨¡å—

#### 1.1 åŸºæœ¬ä¿¡æ¯
```typescript
interface BasicInfo {
  name: string;        // å§“å
  gender: Gender;      // æ€§åˆ« (Boy/Girl)
}
```

#### 1.2 æˆç»©æ•°æ®
```typescript
interface ExamRecord {
  examName: string;                    // è€ƒè¯•åç§°
  scores: Record<string, number>;      // å„ç§‘æˆç»©
  subjectGrades?: Record<string, string>; // ç­‰çº§ (A/B/C/D/E)
  totalScore?: number;                 // æ€»åˆ†
  rank?: number;                       // æ’å
  totalStudents?: number;              // æ€»äººæ•°
}
```

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š
- æ”¯æŒ 9 é—¨ç§‘ç›®çš„æˆç»©å½•å…¥
- è‡ªåŠ¨è®¡ç®—æ€»åˆ†
- æ”¯æŒç­‰çº§åˆ¶è¯„åˆ†ï¼ˆé€‰è€ƒç§‘ç›®ï¼‰
- å¤šæ¬¡è€ƒè¯•è®°å½•ç®¡ç†
- æˆç»©è¶‹åŠ¿å¯è§†åŒ–

#### 1.3 å…´è¶£æ•°æ®
```typescript
interface InterestData {
  interestedSubjects: string[];    // æ„Ÿå…´è¶£çš„å­¦ç§‘
  interestedMajors?: string;       // æ„Ÿå…´è¶£çš„ä¸“ä¸š
  interestedCareers?: string;      // æ„Ÿå…´è¶£çš„èŒä¸š
  specialTalents: string;          // ç‰¹æ®Šæ‰èƒ½
}
```

#### 1.4 Holland æµ‹è¯•æ•°æ®
```typescript
interface HollandData {
  hollandScores: Record<string, number>; // RIASEC å„ç»´åº¦å¾—åˆ†
  hollandCode: string;                   // Holland ä»£ç  (å¦‚ "IRS")
}
```

### 2. AI åˆ†ææ¨¡å—

#### 2.1 è¾“å…¥æ•°æ®ç»“æ„
```typescript
interface UserProfile {
  name: string;
  gender: Gender;
  exams: ExamRecord[];
  interestedSubjects: string[];
  interestedMajors?: string;
  interestedCareers?: string;
  specialTalents: string;
  hollandScores: Record<string, number>;
  hollandCode: string;
}
```

#### 2.2 è¾“å‡ºæ•°æ®ç»“æ„
```typescript
interface AIAnalysisResult {
  studentSummary: string;           // å­¦ç”Ÿç»¼åˆè¯„ä»·
  recommendations: Recommendation[]; // 3 å¥—æ¨èæ–¹æ¡ˆ
}

interface Recommendation {
  subjects: string[];    // æ¨èç§‘ç›®ç»„åˆ
  score: number;         // åŒ¹é…åº¦è¯„åˆ† (0-100)
  reason: string;        // æ¨èç†ç”±
  path: CareerPath;      // èŒä¸šè·¯å¾„
}

interface CareerPath {
  majors: {
    highProb: string[];   // é«˜æ¦‚ç‡ä¸“ä¸š
    medProb: string[];    // ä¸­æ¦‚ç‡ä¸“ä¸š
  };
  careers: {
    highRel: string[];    // é«˜ç›¸å…³èŒä¸š
    potential: string[];  // æ½œåœ¨èŒä¸š
  };
}
```

#### 2.3 åˆ†æé€»è¾‘

AI åˆ†æåŸºäºä»¥ä¸‹ç»´åº¦ï¼š

1. **æˆç»©ä¼˜åŠ¿åˆ†æ**
   - è®¡ç®—å„ç§‘å¹³å‡åˆ†å’Œæ’å
   - è¯†åˆ«ä¼˜åŠ¿ç§‘ç›®å’Œå¼±åŠ¿ç§‘ç›®
   - åˆ†ææˆç»©è¶‹åŠ¿ï¼ˆä¸Šå‡/ç¨³å®š/ä¸‹é™ï¼‰

2. **å…´è¶£åŒ¹é…åº¦**
   - å¯¹æ¯”æ„Ÿå…´è¶£çš„å­¦ç§‘ä¸æˆç»©è¡¨ç°
   - è¯„ä¼°å…´è¶£ä¸èƒ½åŠ›çš„ä¸€è‡´æ€§
   - è€ƒè™‘ä¸“ä¸šå’ŒèŒä¸šæ„å‘

3. **èŒä¸šå€¾å‘é€‚é…**
   - æ ¹æ® Holland ä»£ç åŒ¹é…é€‚åˆçš„ç§‘ç›®
   - ä¾‹å¦‚ï¼š
     - I (ç ”ç©¶å‹) â†’ ç‰©ç†ã€åŒ–å­¦ã€ç”Ÿç‰©
     - A (è‰ºæœ¯å‹) â†’ å†å²ã€åœ°ç†
     - E (ä¼ä¸šå‹) â†’ æ”¿æ²»ã€å†å²

4. **ç»¼åˆæƒé‡**
   - æˆç»©ï¼š40%
   - å…´è¶£ï¼š30%
   - èŒä¸šå€¾å‘ï¼š30%

### 3. æŠ¥å‘Šç”Ÿæˆæ¨¡å—

#### 3.1 æŠ¥å‘Šç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          å­¦ç”ŸåŸºæœ¬ä¿¡æ¯                â”‚
â”‚  å§“å | æ€§åˆ« | Holland ä»£ç           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          å­¦ç”Ÿç»¼åˆè¯„ä»·                â”‚
â”‚  AI ç”Ÿæˆçš„ä¸ªæ€§åŒ–è¯„ä»·æ–‡æœ¬             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          æˆç»©è¶‹åŠ¿åˆ†æ                â”‚
â”‚  æŠ˜çº¿å›¾ï¼šå„ç§‘æˆç»©å˜åŒ–è¶‹åŠ¿            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Holland æµ‹è¯•ç»“æœ              â”‚
â”‚  é›·è¾¾å›¾ï¼šRIASEC å…­ç»´åº¦å¾—åˆ†           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          é€‰ç§‘æ–¹æ¡ˆæ¨è                â”‚
â”‚  æ–¹æ¡ˆ 1 (æœ€æ¨è) - åŒ¹é…åº¦ XX%        â”‚
â”‚  æ–¹æ¡ˆ 2 (å¤‡é€‰)   - åŒ¹é…åº¦ XX%        â”‚
â”‚  æ–¹æ¡ˆ 3 (å¯è€ƒè™‘) - åŒ¹é…åº¦ XX%        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          èŒä¸šå‘å±•è·¯å¾„                â”‚
â”‚  ä¸“ä¸šæ–¹å‘ | èŒä¸šé€‰æ‹©                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.2 å¯è§†åŒ–ç»„ä»¶

1. **æˆç»©è¶‹åŠ¿å›¾**ï¼ˆRecharts LineChartï¼‰
   - X è½´ï¼šè€ƒè¯•æ¬¡æ•°
   - Y è½´ï¼šåˆ†æ•°
   - å¤šæ¡æŠ˜çº¿ï¼šå„ç§‘ç›®æˆç»©å˜åŒ–

2. **Holland é›·è¾¾å›¾**ï¼ˆRecharts RadarChartï¼‰
   - 6 ä¸ªç»´åº¦ï¼šRã€Iã€Aã€Sã€Eã€C
   - æ˜¾ç¤ºå„ç»´åº¦å¾—åˆ†

3. **æ–¹æ¡ˆå¯¹æ¯”è¡¨**
   - ç§‘ç›®ç»„åˆ
   - åŒ¹é…åº¦è¯„åˆ†
   - æ¨èç†ç”±
   - ä¸“ä¸šå’ŒèŒä¸šè·¯å¾„

#### 3.3 PDF å¯¼å‡º

ä½¿ç”¨æµè§ˆå™¨åŸç”Ÿ `window.print()` åŠŸèƒ½ï¼š
- éšè—ä¸å¿…è¦çš„ UI å…ƒç´ 
- ä¼˜åŒ–æ‰“å°æ ·å¼
- ä¿ç•™å›¾è¡¨å’Œè¡¨æ ¼

### 4. ç®¡ç†å‘˜ç»Ÿè®¡æ¨¡å—

#### 4.1 ç»Ÿè®¡ç»´åº¦

1. **ç”¨æˆ·ç»Ÿè®¡**
   - æ€»ç”¨æˆ·æ•°
   - æ€§åˆ«åˆ†å¸ƒ

2. **ç§‘ç›®ç»Ÿè®¡**
   - å„ç§‘ç›®è¢«é€‰æ‹©çš„æ¬¡æ•°
   - ç§‘ç›®ç»„åˆé¢‘ç‡
   - çƒ­é—¨ç»„åˆ TOP 5

3. **Holland ç±»å‹ç»Ÿè®¡**
   - å„ç±»å‹äººæ•°åˆ†å¸ƒ
   - ç±»å‹ç»„åˆåˆ†æ

4. **è¶‹åŠ¿åˆ†æ**
   - æ—¶é—´ç»´åº¦çš„ä½¿ç”¨è¶‹åŠ¿
   - é€‰ç§‘åå¥½å˜åŒ–

#### 4.2 æ•°æ®å­˜å‚¨

ä½¿ç”¨ `localStorage` å­˜å‚¨ï¼š
```typescript
// å­˜å‚¨ç»“æ„
{
  "selection_records": [
    {
      "timestamp": "2024-12-25T10:30:00Z",
      "name": "å¼ ä¸‰",
      "gender": "Boy",
      "subjects": ["Physics", "Chemistry", "Biology"],
      "hollandCode": "IRS",
      "score": 85
    },
    // ...
  ]
}
```

---

## æŠ€æœ¯å®ç°

### 1. å‰ç«¯æŠ€æœ¯æ ˆ

#### 1.1 æ ¸å¿ƒæ¡†æ¶
- **React 19.2**ï¼šæœ€æ–°ç‰ˆæœ¬ï¼Œæ”¯æŒå¹¶å‘ç‰¹æ€§
- **TypeScript 5.8**ï¼šç±»å‹å®‰å…¨ï¼Œæå‡å¼€å‘ä½“éªŒ
- **Vite 6.2**ï¼šå¿«é€Ÿçš„æ„å»ºå·¥å…·

#### 1.2 UI å®ç°
- **Tailwind CSS**ï¼šé€šè¿‡å†…è”æ ·å¼å®ç°
- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…æ¡Œé¢å’Œç§»åŠ¨ç«¯
- **åŠ¨ç”»æ•ˆæœ**ï¼šCSS è¿‡æ¸¡å’ŒåŠ¨ç”»

#### 1.3 å›¾è¡¨åº“
- **Recharts 3.6**ï¼šåŸºäº React çš„å›¾è¡¨åº“
  - LineChartï¼šæˆç»©è¶‹åŠ¿
  - RadarChartï¼šHolland æµ‹è¯•ç»“æœ
  - BarChartï¼šç»Ÿè®¡æ•°æ®

### 2. çŠ¶æ€ç®¡ç†

ä½¿ç”¨ React Hooks è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼š

```typescript
// ä¸»çŠ¶æ€
const [step, setStep] = useState<Step>(Step.INTRO);
const [userData, setUserData] = useState<Partial<UserProfile>>({});
const [aiResult, setAiResult] = useState<AIAnalysisResult | null>(null);

// çŠ¶æ€æ›´æ–°
const updateUserData = (data: Partial<UserProfile>) => {
  setUserData(prev => ({ ...prev, ...data }));
};
```

### 3. AI æœåŠ¡é›†æˆ

#### 3.1 Gemini API è°ƒç”¨

```typescript
// services/geminiService.ts
export async function generateSelectionAdvice(
  profile: UserProfile
): Promise<AIAnalysisResult> {
  const apiKey = import.meta.env.VITE_GEMINI_API_KEY;

  // æ„å»º prompt
  const prompt = buildPrompt(profile);

  // è°ƒç”¨ API
  const response = await fetch(
    `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${apiKey}`,
    {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        contents: [{ parts: [{ text: prompt }] }]
      })
    }
  );

  // è§£æç»“æœ
  const result = await response.json();
  return parseAIResponse(result);
}
```

#### 3.2 Prompt å·¥ç¨‹

Prompt ç»“æ„ï¼š
```
ä½ æ˜¯ä¸€ä½èµ„æ·±çš„é«˜ä¸­ç”Ÿæ¶¯è§„åˆ’ä¸“å®¶...

å­¦ç”Ÿä¿¡æ¯ï¼š
- å§“åï¼š{name}
- æ€§åˆ«ï¼š{gender}
- Holland ä»£ç ï¼š{hollandCode}

æˆç»©æ•°æ®ï¼š
{exams}

å…´è¶£çˆ±å¥½ï¼š
{interests}

è¯·æä¾› 3 å¥—é€‰ç§‘æ–¹æ¡ˆï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
{JSON æ ¼å¼è¯´æ˜}
```

### 4. æ•°æ®æŒä¹…åŒ–

#### 4.1 LocalStorage

```typescript
// ä¿å­˜è®°å½•
const saveRecord = (record: SelectionRecord) => {
  const records = JSON.parse(
    localStorage.getItem('selection_records') || '[]'
  );
  records.push(record);
  localStorage.setItem('selection_records', JSON.stringify(records));
};

// è¯»å–è®°å½•
const getRecords = (): SelectionRecord[] => {
  return JSON.parse(
    localStorage.getItem('selection_records') || '[]'
  );
};
```

#### 4.2 æ•°æ®å¯¼å‡º

```typescript
// å¯¼å‡ºä¸º JSON
const exportData = () => {
  const data = {
    userData,
    aiResult,
    timestamp: new Date().toISOString()
  };
  const blob = new Blob([JSON.stringify(data, null, 2)], {
    type: 'application/json'
  });
  const url = URL.createObjectURL(blob);
  // è§¦å‘ä¸‹è½½
};
```

### 5. æ€§èƒ½ä¼˜åŒ–

#### 5.1 ä»£ç åˆ†å‰²
- ä½¿ç”¨ React.lazy å’Œ Suspense
- æŒ‰è·¯ç”±åˆ†å‰²ä»£ç 

#### 5.2 å›¾è¡¨ä¼˜åŒ–
- æ•°æ®é‡‡æ ·ï¼ˆå¤§æ•°æ®é›†ï¼‰
- é˜²æŠ–å’ŒèŠ‚æµ

#### 5.3 ç¼“å­˜ç­–ç•¥
- API å“åº”ç¼“å­˜
- å›¾ç‰‡æ‡’åŠ è½½

---

## æ•°æ®æ¨¡å‹

### å®Œæ•´ç±»å‹å®šä¹‰

```typescript
// æšä¸¾ç±»å‹
export enum Gender {
  MALE = 'Boy',
  FEMALE = 'Girl'
}

export enum Subject {
  CHINESE = 'Chinese',
  MATH = 'Math',
  ENGLISH = 'English',
  PHYSICS = 'Physics',
  CHEMISTRY = 'Chemistry',
  BIOLOGY = 'Biology',
  HISTORY = 'History',
  GEOGRAPHY = 'Geography',
  POLITICS = 'Politics'
}

// è€ƒè¯•è®°å½•
export interface ExamRecord {
  examName: string;
  scores: Record<string, number>;
  subjectGrades?: Record<string, string>;
  totalScore?: number;
  rank?: number;
  totalStudents?: number;
}

// Holland æµ‹è¯•é¢˜ç›®
export interface HollandQuestion {
  id: number;
  text: string;
  type: string; // R, I, A, S, E, C
}

// ç”¨æˆ·æ¡£æ¡ˆ
export interface UserProfile {
  name: string;
  gender: Gender;
  exams: ExamRecord[];
  interestedSubjects: string[];
  interestedMajors?: string;
  interestedCareers?: string;
  specialTalents: string;
  hollandScores: Record<string, number>;
  hollandCode: string;
}

// èŒä¸šè·¯å¾„
export interface CareerPath {
  majors: {
    highProb: string[];
    medProb: string[];
  };
  careers: {
    highRel: string[];
    potential: string[];
  };
}

// æ¨èæ–¹æ¡ˆ
export interface Recommendation {
  subjects: string[];
  score: number;
  reason: string;
  path: CareerPath;
}

// AI åˆ†æç»“æœ
export interface AIAnalysisResult {
  studentSummary: string;
  recommendations: Recommendation[];
}
```

---

## AI åˆ†æé€»è¾‘

### Prompt è®¾è®¡åŸåˆ™

1. **è§’è‰²å®šä½**ï¼šèµ„æ·±ç”Ÿæ¶¯è§„åˆ’ä¸“å®¶
2. **ä»»åŠ¡æ˜ç¡®**ï¼šç”Ÿæˆ 3 å¥—é€‰ç§‘æ–¹æ¡ˆ
3. **æ ¼å¼è§„èŒƒ**ï¼šJSON æ ¼å¼è¾“å‡º
4. **è€ƒè™‘å…¨é¢**ï¼šæˆç»©ã€å…´è¶£ã€èŒä¸šå€¾å‘

### åˆ†ææµç¨‹

```mermaid
graph LR
    A[ç”¨æˆ·æ•°æ®] --> B[æˆç»©åˆ†æ]
    A --> C[å…´è¶£åˆ†æ]
    A --> D[Holland åˆ†æ]
    B --> E[ç»¼åˆè¯„ä¼°]
    C --> E
    D --> E
    E --> F[ç”Ÿæˆæ–¹æ¡ˆ 1]
    E --> G[ç”Ÿæˆæ–¹æ¡ˆ 2]
    E --> H[ç”Ÿæˆæ–¹æ¡ˆ 3]
    F --> I[è¾“å‡ºç»“æœ]
    G --> I
    H --> I
```

### è¯„åˆ†ç®—æ³•

```typescript
// ä¼ªä»£ç 
function calculateScore(
  subjects: string[],
  profile: UserProfile
): number {
  let score = 0;

  // æˆç»©ç»´åº¦ (40%)
  const gradeScore = calculateGradeScore(subjects, profile.exams);
  score += gradeScore * 0.4;

  // å…´è¶£ç»´åº¦ (30%)
  const interestScore = calculateInterestScore(
    subjects,
    profile.interestedSubjects
  );
  score += interestScore * 0.3;

  // Holland ç»´åº¦ (30%)
  const hollandScore = calculateHollandScore(
    subjects,
    profile.hollandCode
  );
  score += hollandScore * 0.3;

  return Math.round(score);
}
```

---

## æ€»ç»“

æ™ºèƒ½é€‰ç§‘ç³»ç»Ÿé€šè¿‡æ•´åˆ**æˆç»©æ•°æ®**ã€**å…´è¶£çˆ±å¥½**å’Œ**èŒä¸šå€¾å‘æµ‹è¯•**ï¼Œåˆ©ç”¨ **AI æŠ€æœ¯**ä¸ºé«˜ä¸­ç”Ÿæä¾›ç§‘å­¦çš„é€‰ç§‘å†³ç­–æ”¯æŒã€‚ç³»ç»Ÿé‡‡ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆï¼Œæä¾›æµç•…çš„ç”¨æˆ·ä½“éªŒå’Œç²¾ç¾çš„å¯è§†åŒ–æŠ¥å‘Šï¼Œå¸®åŠ©å­¦ç”Ÿåšå‡ºæ›´æ˜æ™ºçš„é€‰ç§‘å†³ç­–ï¼Œä¸ºæœªæ¥çš„ä¸“ä¸šé€‰æ‹©å’ŒèŒä¸šå‘å±•å¥ å®šåŸºç¡€ã€‚

### æ ¸å¿ƒä¼˜åŠ¿

1. âœ… **ç§‘å­¦æ€§**ï¼šåŸºäºå¤šç»´åº¦æ•°æ®å’Œ AI åˆ†æ
2. âœ… **ä¸ªæ€§åŒ–**ï¼šä¸ºæ¯ä¸ªå­¦ç”Ÿç”Ÿæˆå®šåˆ¶åŒ–æ–¹æ¡ˆ
3. âœ… **å¯è§†åŒ–**ï¼šç›´è§‚çš„å›¾è¡¨å’ŒæŠ¥å‘Š
4. âœ… **æ˜“ç”¨æ€§**ï¼šæµç•…çš„åˆ†æ­¥å¼•å¯¼æµç¨‹
5. âœ… **å¯æ‰©å±•**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•æ–°åŠŸèƒ½

### æœªæ¥å±•æœ›

- ğŸ“ˆ **æ•°æ®åˆ†æ**ï¼šç§¯ç´¯æ•°æ®åè¿›è¡Œå¤§æ•°æ®åˆ†æ
- ğŸ“ **ä¸“ä¸šåº“**ï¼šå»ºç«‹å®Œæ•´çš„ä¸“ä¸š-èŒä¸šæ•°æ®åº“
- ğŸ¤ **ç¤¾äº¤åŠŸèƒ½**ï¼šå­¦ç”Ÿäº¤æµå’Œç»éªŒåˆ†äº«
- ğŸ“± **ç§»åŠ¨åº”ç”¨**ï¼šå¼€å‘åŸç”Ÿç§»åŠ¨åº”ç”¨
- ğŸ”— **å­¦æ ¡é›†æˆ**ï¼šä¸å­¦æ ¡æ•™åŠ¡ç³»ç»Ÿå¯¹æ¥

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**æœ€åæ›´æ–°**ï¼š2024-12-25
**ç»´æŠ¤è€…**ï¼šå¼€å‘å›¢é˜Ÿ
